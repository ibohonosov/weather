{"ast":null,"code":"var _jsxFileName = \"/Users/Ilya/Desktop/Weather_react/src/App.js\";\nimport React from \"react\";\nimport Form from \"./components/form\";\nimport Info from \"./components/info\";\nimport Weather from \"./components/Weather\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_KEY = \"898b70eee2d2d2b57e9ebddd141dfd4f\";\n\nclass App extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      temp: undefined,\n      city: undefined,\n      country: undefined,\n      pressure: undefined,\n      sunset: undefined,\n      error: undefined\n    };\n\n    this.gettingWeather = async event => {\n      event.preventDefault();\n      const city = event.target.elements.city.value;\n\n      if (city) {\n        const api_url = await fetch(`http://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${API_KEY}&units=metric`);\n        const data = await api_url.json();\n\n        if (data.cod === '404') {\n          this.setState({\n            error: 'Введите правильное название на английском языке'\n          });\n          return;\n        }\n\n        const sunset = data.sys.sunset;\n        const date = new Date();\n        date.setTime(sunset);\n        const sunset_date = date.getHours() + \":\" + date.getMinutes() + \":\" + date.getSeconds();\n        this.setState({\n          temp: data.main.temp,\n          city: data.name,\n          country: data.sys.country,\n          pressure: data.main.pressure,\n          sunset: sunset_date,\n          error: undefined\n        });\n      } else {\n        this.setState({\n          temp: undefined,\n          city: undefined,\n          country: undefined,\n          pressure: undefined,\n          sunset: undefined,\n          error: \"Введите название города\"\n        });\n      }\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wrapper\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"main\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-sm-5 info\",\n              children: /*#__PURE__*/_jsxDEV(Info, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 65,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-sm-7 form\",\n              children: [/*#__PURE__*/_jsxDEV(Form, {\n                weatherMethod: this.gettingWeather\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(Weather, {\n                temp: this.state.temp,\n                city: this.state.city,\n                country: this.state.country,\n                pressure: this.state.pressure,\n                sunset: this.state.sunset,\n                error: this.state.error\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/Ilya/Desktop/Weather_react/src/App.js"],"names":["React","Form","Info","Weather","API_KEY","App","Component","state","temp","undefined","city","country","pressure","sunset","error","gettingWeather","event","preventDefault","target","elements","value","api_url","fetch","data","json","cod","setState","sys","date","Date","setTime","sunset_date","getHours","getMinutes","getSeconds","main","name","render"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Form from \"./components/form\";\nimport Info from \"./components/info\";\nimport Weather from \"./components/Weather\";\n\nconst API_KEY = \"898b70eee2d2d2b57e9ebddd141dfd4f\";\n\nclass App extends React.Component {\n\n    state = {\n        temp: undefined,\n        city: undefined,\n        country: undefined,\n        pressure: undefined,\n        sunset: undefined,\n        error: undefined\n    }\n\n    gettingWeather = async (event) => {\n        event.preventDefault();\n        const city = event.target.elements.city.value\n            \n        if(city) {\n            const api_url = await fetch(`http://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${API_KEY}&units=metric`);\n            const data = await api_url.json();\n            if(data.cod === '404') {\n                this.setState({\n                    error: 'Введите правильное название на английском языке'\n                })\n                return;\n            }\n\n            const sunset = data.sys.sunset;\n            const date = new Date();\n            date.setTime(sunset);\n            const sunset_date = date.getHours() + \":\" + date.getMinutes() + \":\" + date.getSeconds();\n\n            this.setState( {\n                temp: data.main.temp,\n                city: data.name,\n                country: data.sys.country,\n                pressure: data.main.pressure,\n                sunset: sunset_date,\n                error:undefined\n            });\n        }\n        else {\n            this.setState( {\n                temp: undefined,\n                city: undefined,\n                country: undefined,\n                pressure: undefined,\n                sunset: undefined,\n                error: \"Введите название города\"\n            });\n        }\n    }\n    render() {\n        return (\n            <div className=\"wrapper\">\n                <div className=\"main\">\n                <div className=\"container\">\n                    <div className=\"row\">\n                        <div className=\"col-sm-5 info\">\n                            <Info />\n                        </div>\n                        <div className=\"col-sm-7 form\">\n                        <Form weatherMethod={this.gettingWeather} />\n                        <Weather \n                            temp={this.state.temp}\n                            city={this.state.city}\n                            country={this.state.country}\n                            pressure={this.state.pressure}\n                            sunset={this.state.sunset}\n                            error={this.state.error}\n                        />\n                        </div>\n                    </div>\n                </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}